user  qplay qplay;
working_directory /home/qplay/nginx/;
worker_processes  2;
worker_rlimit_nofile 1024;
worker_priority -5;
worker_cpu_affinity 01 10;

error_log  logs/error.log;
error_log  logs/error.log  notice;
error_log  logs/error.log  info;

pid	logs/nginx.pid;


events {
		multi_accept on;
		worker_connections  1024;
}

http {
	read_ahead 1;
	server_tokens off;
	reset_timedout_connection on;
	include       mime.types;
	default_type  application/octet-stream;
#	log_format  main  '$remote_addr - $remote_user [$time_local] "$request" '
#		'$status $body_bytes_sent "$http_referer" '
#		'"$http_user_agent" "$http_x_forwarded_for"';
#	access_log  logs/access.log  main;
	sendfile        on;
	keepalive_timeout  65;
	gzip  on;

# HTTP server
	server {
		listen	80;
# server_name	192.168.0.101;
#	rewrite ^ https://192.168.0.101/ redirect;	
		location / {
			root   html;
			index  index.html index.htm;
		}

	}



# HTTPS server
	server {
		listen       443 ssl;
		server_name	192.168.0.101;
		ssl_certificate		/home/qplay/nginx/cert/server.crt;
		ssl_certificate_key	/home/qplay/nginx/cert/server.key;

		ssl_protocols        SSLv3 TLSv1 TLSv1.1 TLSv1.2;
		ssl_ciphers RC4:HIGH:!aNULL:!MD5;
		ssl_prefer_server_ciphers on;
		keepalive_timeout    70;
		ssl_session_cache    shared:SSL:10m;
		ssl_session_timeout  10m;

		location / {
			root   html;
			index  index.html index.htm;
		}
	}
}
